<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Darryl Gibbs ">
<meta name="description" content="This is a tutorial I&amp;rsquo;ve written mostly for my own purposes that I have adapted from the orginal post from [Vultr](How to Install Chamilo 1.11.8 on Ubuntu 18.04 LTS - Vultr.com). Kudos to those guys.
Prerequisites   Fresh Ubuntu Server install on a VPS with sudo access.
  A domain pointed at the server.
  Install necessary (and extra) software First, update the system.
sudo apt upgrade -y &amp;amp;&amp;amp; sudo apt dist-upgrade -y &amp;amp;&amp;amp; sudo apt autoremove -y &amp;amp;&amp;amp; sudo apt clean -y &amp;amp;&amp;amp; sudo reboot Then, install software we will use for the server." />
<meta name="keywords" content=", chamilo, lms" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="#252627" />
<link rel="canonical" href="https://dgibbs.me/posts/2020/12/how-to-install-chamilo-on-ubuntu-server/" />


    <title>
        
            How to Install Chamilo on Ubuntu Server :: darryl gibbs  — ramblings
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="https://dgibbs.me/main.d1ea4af8fd04fb24a4f8b882ea54bd04eb245427ca4baf527c81a5dab071410b.css">




    <link rel="apple-touch-icon" sizes="180x180" href="https://dgibbs.me/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://dgibbs.me/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://dgibbs.me/favicon-16x16.png">
    <link rel="manifest" href="https://dgibbs.me/site.webmanifest">
    <link rel="mask-icon" href="https://dgibbs.me/safari-pinned-tab.svg" color="#252627">
    <link rel="shortcut icon" href="https://dgibbs.me/favicon.ico">
    <meta name="msapplication-TileColor" content="#252627">
    <meta name="theme-color" content="#252627">



<meta itemprop="name" content="How to Install Chamilo on Ubuntu Server">
<meta itemprop="description" content="This is a tutorial I&rsquo;ve written mostly for my own purposes that I have adapted from the orginal post from [Vultr](How to Install Chamilo 1.11.8 on Ubuntu 18.04 LTS - Vultr.com). Kudos to those guys.
Prerequisites   Fresh Ubuntu Server install on a VPS with sudo access.
  A domain pointed at the server.
  Install necessary (and extra) software First, update the system.
sudo apt upgrade -y &amp;&amp; sudo apt dist-upgrade -y &amp;&amp; sudo apt autoremove -y &amp;&amp; sudo apt clean -y &amp;&amp; sudo reboot Then, install software we will use for the server."><meta itemprop="datePublished" content="2020-12-18T12:00:37-03:00" />
<meta itemprop="dateModified" content="2020-12-18T12:00:37-03:00" />
<meta itemprop="wordCount" content="1972"><meta itemprop="image" content="https://dgibbs.me"/>
<meta itemprop="keywords" content="chamilo,lms," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://dgibbs.me"/>

<meta name="twitter:title" content="How to Install Chamilo on Ubuntu Server"/>
<meta name="twitter:description" content="This is a tutorial I&rsquo;ve written mostly for my own purposes that I have adapted from the orginal post from [Vultr](How to Install Chamilo 1.11.8 on Ubuntu 18.04 LTS - Vultr.com). Kudos to those guys.
Prerequisites   Fresh Ubuntu Server install on a VPS with sudo access.
  A domain pointed at the server.
  Install necessary (and extra) software First, update the system.
sudo apt upgrade -y &amp;&amp; sudo apt dist-upgrade -y &amp;&amp; sudo apt autoremove -y &amp;&amp; sudo apt clean -y &amp;&amp; sudo reboot Then, install software we will use for the server."/>



    <meta property="og:title" content="How to Install Chamilo on Ubuntu Server" />
<meta property="og:description" content="This is a tutorial I&rsquo;ve written mostly for my own purposes that I have adapted from the orginal post from [Vultr](How to Install Chamilo 1.11.8 on Ubuntu 18.04 LTS - Vultr.com). Kudos to those guys.
Prerequisites   Fresh Ubuntu Server install on a VPS with sudo access.
  A domain pointed at the server.
  Install necessary (and extra) software First, update the system.
sudo apt upgrade -y &amp;&amp; sudo apt dist-upgrade -y &amp;&amp; sudo apt autoremove -y &amp;&amp; sudo apt clean -y &amp;&amp; sudo reboot Then, install software we will use for the server." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://dgibbs.me/posts/2020/12/how-to-install-chamilo-on-ubuntu-server/" /><meta property="og:image" content="https://dgibbs.me"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-12-18T12:00:37-03:00" />
<meta property="article:modified_time" content="2020-12-18T12:00:37-03:00" />







    <meta property="article:published_time" content="2020-12-18 12:00:37 -0300 -03" />








    </head>

    <body class="dark-theme">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://dgibbs.me/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">/home/</span>
            <span class="logo__cursor" style=
                  "
                   background-color:#67a2c9;
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://dgibbs.me/about/">About</a></li><li><a href="https://dgibbs.me/posts/">Posts</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        10 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://dgibbs.me/posts/2020/12/how-to-install-chamilo-on-ubuntu-server/">How to Install Chamilo on Ubuntu Server</a>
      </h1>

      

      <div class="post-content">
        <p>This is a tutorial I&rsquo;ve written mostly for my own purposes that I have adapted from the orginal post from <strong>[Vultr](<a href="https://www.vultr.com/docs/how-to-install-chamilo-1-11-8-on-ubuntu-18-04-lts">How to Install Chamilo 1.11.8 on Ubuntu 18.04 LTS - Vultr.com</a>)</strong>. Kudos to those guys.</p>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>
<p>Fresh Ubuntu Server install on a VPS with sudo access.</p>
</li>
<li>
<p>A domain pointed at the server.</p>
</li>
</ul>
<h2 id="install-necessary-and-extra-software">Install necessary (and extra) software</h2>
<p>First, update the system.</p>
<pre><code>sudo apt upgrade -y &amp;&amp; sudo apt dist-upgrade -y &amp;&amp; sudo apt autoremove -y &amp;&amp; sudo apt clean -y &amp;&amp; sudo reboot
</code></pre><p>Then, install software we will use for the server.</p>
<pre><code>sudo apt install -y ufw \
fail2ban \
unzip \
zip \
git \
tree \
openssh-server \
net-tools \
curl \
software-properties-common
</code></pre><h2 id="update-ufw-firewall-rules">Update UFW firewall rules</h2>
<pre><code>sudo ufw allow in ssh &amp;&amp; \
sudo ufw allow in http &amp;&amp; \
sudo ufw allow in https &amp;&amp; \
sudo ufw enable
</code></pre><h2 id="install-setup-and-secure-mariadb">Install, setup and secure MariaDB</h2>
<p>To install the latest version of MariaDB directly, you will need to add the MariaDB repos. Confirm the latest version <a href="https://mariadb.org/download/">here</a>, and update the version number and Ubuntu version as needed.</p>
<pre><code>sudo apt install -y software-properties-common &amp;&amp; \
sudo apt-key adv --recv-keys --keyserver hkp://keyserver.ubuntu.com:80 0xF1656F24C74CD1D8 &amp;&amp; \
sudo add-apt-repository 'deb [arch=amd64,arm64,ppc64el] http://mirrors.accretive-networks.net/mariadb/repo/10.5/ubuntu focal main' &amp;&amp; \
sudo apt update &amp;&amp; \
sudo apt install -y mariadb-server
</code></pre><p>During the install, provide a strong password for MariaDB. If not requested, no sweat, we&rsquo;ll secure it in the next block.</p>
<p>Ok, now fire up MariaDB and also make it start up automatically with the system on reboot:</p>
<pre><code>sudo systemctl start mariadb.service
sudo systemctl enable mariadb.service
</code></pre><p>Now, let&rsquo;s secure MariaDB:</p>
<pre><code>sudo /usr/bin/mysql_secure_installation
</code></pre><p>A prompt will come up, answer as below, but remember to provide a <strong>strong</strong> root password now if not done so previously.</p>
<pre><code>Enter current password for root (enter for none): strong-ass-MariaDB-root-password
Change the root password? [Y/n]: n
Remove anonymous users? [Y/n]: y
Disallow root login remotely? [Y/n]: y
Remove test database and access to it? [Y/n]: y
Reload privilege tables now? [Y/n]: y
</code></pre><h2 id="install-apache">Install Apache</h2>
<pre><code>sudo apt install -y apache2
</code></pre><p>Go to the server URL to confirm Apache is up and running.</p>
<p>Remove the standard Apache welcome page.</p>
<pre><code>sudo mv /var/www/html/index.html /var/www/html/index.html.old
</code></pre><p>Backup the default .conf file and block Apache from exposing the web root directory:</p>
<pre><code>sudo cp /etc/apache2/apache2.conf /etc/apache2/apache2.conf.bak
sudo sed -i &quot;s/Options Indexes FollowSymLinks/Options FollowSymLinks/&quot; /etc/apache2/apache2.conf
</code></pre><p>Enable the Apache rewrite module, start the service and auto-start</p>
<pre><code>sudo a2enmod rewrite
sudo systemctl start apache2.service
sudo systemctl enable apache2.service
</code></pre><h2 id="install-latest-php-packages">Install latest PHP Packages</h2>
<p>In order to run the latest PHP 7.x packages, we need to add the repo:</p>
<pre><code>sudo add-apt-repository -y ppa:ondrej/php
sudo apt update
sudo apt upgrade -y
sudo apt autoremove -y
</code></pre><p>Install the latest 7.4 packages. Before doing so, confirm the latest version <a href="https://www.php.net/downloads.php">here</a>, and if higher the 7.4, substitute that version wherever you see <strong>7.4</strong>.</p>
<pre><code>sudo apt install -y php7.4 php7.4-opcache php7.4-cli php7.4-curl php7.4-common php7.4-gd php7.4-intl php7.4-mbstring php7.4-mysql libapache2-mod-php7.4 php7.4-soap php7.4-xml php7.4-xmlrpc php7.4-zip php7.4-ldap php-apcu-bc
</code></pre><p>Backup and then edit the PHP config file pertaining to Apache:</p>
<pre><code>sudo cp /etc/php/7.4/apache2/php.ini /etc/php/7.4/apache2/php.ini.bak
sudo sed -i 's#;date.timezone =#date.timezone = America/Sao_Paulo#' /etc/php/7.4/apache2/php.ini
</code></pre><p>Right, now let&rsquo;s adjust the php.ini file to meet the necessities of Chamilo LMS:</p>
<pre><code>sudo nano /etc/php/7.4/apache2/php.ini
</code></pre><p>Find these:</p>
<pre><code>session.cookie_httponly =
upload_max_filesize = 2M
post_max_size = 8M
</code></pre><p>And update them to look like these:</p>
<pre><code>session.cookie_httponly = 1
upload_max_filesize = 100M
post_max_size = 100M
</code></pre><h2 id="install-chamilo">Install Chamilo</h2>
<h3 id="setup-the-database">Setup the Database</h3>
<pre><code>sudo mysql -u root -p

CREATE DATABASE chamilo;
CREATE USER 'chamilo'@'localhost' IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON chamilo.* TO 'chamilo'@'localhost' IDENTIFIED BY 'password' WITH GRANT OPTION;
FLUSH PRIVILEGES;
EXIT;
</code></pre><p>Make sure to update at least the <strong>password</strong> with your prefered choice, and the DB name and user should you wish to.</p>
<h3 id="get-chamilo-files">Get Chamilo files</h3>
<p>Let&rsquo;s now head to <a href="https://github.com/chamilo/chamilo-lms/releases">Chamilo&rsquo;s GitHub page</a> to confirm we have the latest version. Update the link and steps below as needed:</p>
<pre><code>cd
wget https://github.com/chamilo/chamilo-lms/releases/download/v1.11.14/chamilo-1.11.14.tar.gz
</code></pre><p>Extract all the files to the <em>/opt</em> directory:</p>
<pre><code>sudo tar -zxvf chamilo-1.11.14.tar.gz -C /opt
</code></pre><p>Create a symbolic link between the unzip directory and the webserver root directory&quot;</p>
<pre><code>sudo ln -s /opt/chamilo-lms-1.11.14 /var/www/html/chamilo
</code></pre><p>Modify the ownership of all Chamilo files to the <code>www-data</code> user and the <code>www-data</code> group:</p>
<pre><code>sudo chown -R www-data:www-data /opt/chamilo-lms-1.11.14
</code></pre><h3 id="configure-apache-virtual-server-for-chamilo">Configure Apache virtual server for Chamilo</h3>
<pre><code>cat &lt;&lt;EOF | sudo tee /etc/apache2/sites-available/chamilo.conf
&lt;VirtualHost *:80&gt;
ServerAdmin admin@example.com
DocumentRoot /var/www/html/chamilo
ServerName chamilo.example.com
ServerAlias example.com
&lt;Directory /&gt;
AllowOverride All
Require all granted
&lt;/Directory&gt;
&lt;Directory /var/www/html/chamilo&gt;
Options FollowSymLinks
AllowOverride All
Require all granted
&lt;/Directory&gt;
ErrorLog /var/log/apache2/chamilo.example.com-error_log
CustomLog /var/log/apache2/chamilo.example.com-access_log common
&lt;/VirtualHost&gt;
EOF
</code></pre><p>Update the <strong>ServerAdmin</strong>, <strong>ServerName</strong>, <strong>ServerAlias</strong>, <strong>ErrorLog</strong> and <strong>CustomLog</strong> as necessary.</p>
<p>Then, create the symbolic links to the <code>/etc/apache2/sites-enabled</code> directory, while deleting the Apache default link.</p>
<pre><code>sudo rm /etc/apache2/sites-enabled/000-default.conf
sudo ln -s /etc/apache2/sites-available/chamilo.conf /etc/apache2/sites-enabled/
</code></pre><p>Finally, restart Apache so all the changes are activated.</p>
<pre><code>sudo systemctl restart apache2.service
</code></pre><h3 id="complete-the-install-in-the-browser">Complete the install in the browser</h3>
<p>Open up your browser and navigate to your server, for example: <code>http://chamilo.iamamazing.com</code>, and click on <strong>Install Chamilo</strong>. From here on, fill out the details as requested, but here is a quick guide for you.</p>
<ul>
<li><code>Step 1 - Installation Language</code>: Choose the language of choice and then click the <code>Next</code> button.</li>
<li><code>Step 2 – Requirements</code>: Make sure that all mandatory requirements have been met, and then click the <code>New installation</code> button.</li>
<li><code>Step 3 – Licence</code>: Read the licence if you dare, and the click the checkbox next to the <code>I agree</code> sentence, fill in all required fields, and then click the <code>Next</code> button.</li>
<li><code>Step 4 – MySQL database settings</code>: Input the database credentials we setup earlier and then click the <code>Check database connection</code> button to verify them. Click the <code>Next</code> button to move on.</li>
<li><code>Step 5 – Config settings</code>: Modify the
pre-set administrator password, fill in the other fields accordingly, and then click the <code>Next</code> button.</li>
<li><code>Step 6 – Last check before install</code>: Review all of the settings and hit the <code>Install Chamilo</code> button to start the web installation.</li>
<li><code>Step 7 – Installation process execution</code>: When Chamilo is successfully installed, click the <code>Go to your newly created portal.</code> button to finish the web installation wizard.</li>
</ul>
<h3 id="post-install-safety-measure-do-not-skip-this">Post-Install Safety Measure: DO NOT SKIP THIS!!!</h3>
<p>In order to tighten security of the installation folders, we need to change their permissions:</p>
<pre><code>sudo chmod -R 0555 /var/www/html/chamilo/app/config
sudo rm -rf /var/www/html/chamilo/main/install
</code></pre><h2 id="fail2ban">Fail2Ban</h2>
<p>Sourced from: <a href="https://www.howtogeek.com/675010/how-to-secure-your-linux-computer-with-fail2ban/">How to Secure Your Linux Server with fail2ban</a><a href="https://www.howtogeek.com/675010/how-to-secure-your-linux-computer-with-fail2ban/">How to Secure Your Linux Server with fail2ban</a></p>
<p>Firstly, install fail2ban.</p>
<pre><code>sudo apt-get install fail2ban
</code></pre><h3 id="configuring-fail2ban">Configuring fail2ban</h3>
<p>fail2ban creates &lsquo;jails&rsquo; in .conf files. This standard config is removed each time fail2ban upgrades, so we&rsquo;ll make a customized file.</p>
<p>So, lets make a copy of the default file and then edit our own version.</p>
<pre><code>sudo cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local
sudo nano /etc/fail2ban/jail.local
</code></pre><p>Scroll down to the <strong>[DEFAULT]</strong> and <strong>[sshd]</strong> sections, that come up from about line 90 onwards. It appears near the top too, but ignore that. Find the following lines and update as below. See the source link above for further details of each.</p>
<p>[DEFAULT] section:</p>
<pre><code>ignoreip = 127.0.0.1/8 ::1

bantime = 24h

findtime = 5m

maxretry = 3
</code></pre><p>[sshd] section: <strong>ADD</strong> these 2 lines to the end of the [sshd] section.</p>
<pre><code>maxretry = 3
enable = true
</code></pre><h3 id="enable-fail2ban">Enable fail2ban</h3>
<p>Enable the service and auto-start.</p>
<pre><code>sudo systemctl enable fail2ban
sudo systemctl start fail2ban
</code></pre><p>Check that fail2ban is working.</p>
<pre><code>sudo systemctl status fail2ban.service
</code></pre><p>Check fail2ban status. This should show the active jail.</p>
<pre><code>sudo fail2ban-client status
</code></pre><p>To show the exact status of the jail we activated. It will show any IPs that are banned.</p>
<pre><code>sudo fail2ban-client status sshd
</code></pre><p>Testing the jail: see source link above.</p>
<h3 id="unbanning-an-ip">Unbanning an IP</h3>
<p>After seeing the banned IP from above, use the command below, inserting the appropriate IP.</p>
<pre><code>sudo fail2ban-client set sshd unbanip 192.168.4.25
</code></pre><p>Now it can try again.</p>
<h2 id="lets-encrypt-certificate">Let&rsquo;s Encrypt Certificate</h2>
<p>This part is adapted from a [Digital Ocean tutorial](<a href="https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-20-04">How To Secure Apache with Let's Encrypt on Ubuntu 20.04 | DigitalOcean</a>).</p>
<h3 id="certbot-setup">Certbot setup</h3>
<p>SSL certs are a <strong>must have</strong> so let&rsquo;s hook them up.</p>
<p>Firstly, install the certbot.</p>
<pre><code>sudo apt install -y certbot python3-certbot-apache
</code></pre><p>Confirm your <code>ServerName</code> and <code>ServerAlias</code> details in your chamilo.conf file as we will need these for the cert request.</p>
<pre><code>sudo nano /etc/apache2/sites-available/chamilo.conf
</code></pre><p>Let&rsquo;s quickly recheck that our Apahce files are all good and then reload Apache incase we made changes.</p>
<pre><code>sudo apache2ctl configtest
sudo systemctl reload apache2
</code></pre><h3 id="allow-https-through-the-firewall">Allow HTTPS through the firewall</h3>
<p>Confirm the current status.</p>
<pre><code>sudo ufw status
</code></pre><p>If HTTP and HTTPS aren&rsquo;t allowed through, please refer back to the UFW setup above.</p>
<h3 id="obtain-ssl-certificate">Obtain SSL Certificate</h3>
<pre><code>sudo certbot --apache
</code></pre><p>A script will start to configure SSL.  You will be asked to give an email, and you must in order to receive notices of expiring certs.</p>
<p>When asked, agree to Let&rsquo;s Encrypt&rsquo;s TOS, by pressing <strong>A</strong>.</p>
<p>Certbot will then ask you which domains you want to get certs for.  This is where having accurate ServerName and ServerAlias details is important.</p>
<p>When asked whether you want to redirect traffic, chose option <code>2</code> for YES.  This will force all conenctions over HTTPS.</p>
<pre><code>Please choose whether or not to redirect HTTP traffic to HTTPS, removing HTTP access.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
1: No redirect - Make no further changes to the webserver configuration.
2: Redirect - Make all requests redirect to secure HTTPS access. Choose this for
new sites, or if you're confident your site works on HTTPS. You can undo this
change by editing your web server's configuration.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Select the appropriate number [1-2] then [enter] (press 'c' to cancel): 2

</code></pre><p>If you get the message below, you&rsquo;re golden!</p>
<pre><code>- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Congratulations! You have successfully enabled https://your_domain and
https://www.your_domain

You should test your configuration at:
https://www.ssllabs.com/ssltest/analyze.html?d=your_domain
https://www.ssllabs.com/ssltest/analyze.html?d=www.your_domain
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

IMPORTANT NOTES:
 - Congratulations! Your certificate and chain have been saved at:
   /etc/letsencrypt/live/your_domain/fullchain.pem
   Your key file has been saved at:
   /etc/letsencrypt/live/your_domain/privkey.pem
   Your cert will expire on 2020-07-27. To obtain a new or tweaked
   version of this certificate in the future, simply run certbot again
   with the &quot;certonly&quot; option. To non-interactively renew *all* of
   your certificates, run &quot;certbot renew&quot;
 - Your account credentials have been saved in your Certbot
   configuration directory at /etc/letsencrypt. You should make a
   secure backup of this folder now. This configuration directory will
   also contain certificates and private keys obtained by Certbot so
   making regular backups of this folder is ideal.
 - If you like Certbot, please consider supporting our work by:

   Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate
   Donating to EFF:                    https://eff.org/donate-le
</code></pre><p>You can confirm your SSL cert and it&rsquo;s grade over at [SSL Labs Server Test](<a href="https://www.ssllabs.com/ssltest/">SSL Server Test (Powered by Qualys SSL Labs)</a>).</p>
<h3 id="verify-certbot-auto-renewal">Verify Certbot Auto-Renewal</h3>
<p>Our certbot package will automatically auto-renew our certificate.  To check the status of this service, let&rsquo;s use:</p>
<pre><code>sudo systemctl status certbot.timer
</code></pre><p>Your output should look like this.</p>
<pre><code>Output
● certbot.timer - Run certbot twice daily
     Loaded: loaded (/lib/systemd/system/certbot.timer; enabled; vendor preset: enabled)
     Active: active (waiting) since Tue 2020-04-28 17:57:48 UTC; 17h ago
    Trigger: Wed 2020-04-29 23:50:31 UTC; 12h left
   Triggers: ● certbot.service

Apr 28 17:57:48 fine-turtle systemd[1]: Started Run certbot twice daily.
</code></pre><p>And if you want to test the renewal process, run this.</p>
<pre><code>sudo certbot renew --dry-run
</code></pre><h2 id="conclusion">Conclusion</h2>
<p>That&rsquo;s it! All should be working now.</p>

      </div>
    </article>

    <hr />

    <div class="post-info">
        <p>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon">
            <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path>
            <line x1="7" y1="7" x2="7" y2="7"></line>
          </svg><span class="tag"><a href="https://dgibbs.me/tags/chamilo/">chamilo</a></span><span class="tag"><a href="https://dgibbs.me/tags/lms/">lms</a></span>
        </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        1972 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        2020-12-18 12:00 -0300
      </p>
    </div>
      <hr />
      <div class="sharing-buttons">
        
<a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fdgibbs.me%2fposts%2f2020%2f12%2fhow-to-install-chamilo-on-ubuntu-server%2f" target="_blank" rel="noopener" aria-label="" title="Share on facebook">
  <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?url=https%3a%2f%2fdgibbs.me%2fposts%2f2020%2f12%2fhow-to-install-chamilo-on-ubuntu-server%2f" target="_blank" rel="noopener" aria-label="" title="Share on twitter">
  <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small">
      <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://www.tumblr.com/widgets/share/tool?posttype=link&amp;title=How%20to%20Install%20Chamilo%20on%20Ubuntu%20Server&amp;caption=How%20to%20Install%20Chamilo%20on%20Ubuntu%20Server&amp;canonicalUrl=https%3a%2f%2fdgibbs.me%2fposts%2f2020%2f12%2fhow-to-install-chamilo-on-ubuntu-server%2f" target="_blank" rel="noopener" aria-label="" title="Share on tumblr">
  <div class="resp-sharing-button resp-sharing-button--tumblr resp-sharing-button--small">
    <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.563 24c-5.093 0-7.031-3.756-7.031-6.411V9.747H5.116V6.648c3.63-1.313 4.512-4.596 4.71-6.469C9.84.051 9.941 0 9.999 0h3.517v6.114h4.801v3.633h-4.82v7.47c.016 1.001.375 2.371 2.207 2.371h.09c.631-.02 1.486-.205 1.936-.419l1.156 3.425c-.436.636-2.4 1.374-4.156 1.404h-.178l.011.002z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="mailto:?subject=How%20to%20Install%20Chamilo%20on%20Ubuntu%20Server&amp;body=https%3a%2f%2fdgibbs.me%2fposts%2f2020%2f12%2fhow-to-install-chamilo-on-ubuntu-server%2f" target="_self" rel="noopener" aria-label="" title="Share via email">
  <div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://pinterest.com/pin/create/button/?url=https%3a%2f%2fdgibbs.me%2fposts%2f2020%2f12%2fhow-to-install-chamilo-on-ubuntu-server%2f&amp;media=https%3a%2f%2fdgibbs.me%2fposts%2f2020%2f12%2fhow-to-install-chamilo-on-ubuntu-server%2f;description=How%20to%20Install%20Chamilo%20on%20Ubuntu%20Server" target="_blank" rel="noopener" aria-label="" title="Share on pinterest">
  <div class="resp-sharing-button resp-sharing-button--pinterest resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607 0 11.985-5.365 11.985-11.987C23.97 5.39 18.592.026 11.985.026L12.017 0z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fdgibbs.me%2fposts%2f2020%2f12%2fhow-to-install-chamilo-on-ubuntu-server%2f&amp;title=How%20to%20Install%20Chamilo%20on%20Ubuntu%20Server&amp;summary=How%20to%20Install%20Chamilo%20on%20Ubuntu%20Server&amp;source=https%3a%2f%2fdgibbs.me%2fposts%2f2020%2f12%2fhow-to-install-chamilo-on-ubuntu-server%2f" target="_blank" rel="noopener" aria-label="" title="Share on linkedin">
  <div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://reddit.com/submit/?url=https%3a%2f%2fdgibbs.me%2fposts%2f2020%2f12%2fhow-to-install-chamilo-on-ubuntu-server%2f&amp;resubmit=true&amp;title=How%20to%20Install%20Chamilo%20on%20Ubuntu%20Server" target="_blank" rel="noopener" aria-label="" title="Share on reddit">
  <div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://www.xing.com/app/user?op=share;url=https%3a%2f%2fdgibbs.me%2fposts%2f2020%2f12%2fhow-to-install-chamilo-on-ubuntu-server%2f;title=How%20to%20Install%20Chamilo%20on%20Ubuntu%20Server" target="_blank" rel="noopener" aria-label="" title="Share on xing">
  <div class="resp-sharing-button resp-sharing-button--xing resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M18.188 0c-.517 0-.741.325-.927.66 0 0-7.455 13.224-7.702 13.657.015.024 4.919 9.023 4.919 9.023.17.308.436.66.967.66h3.454c.211 0 .375-.078.463-.22.089-.151.089-.346-.009-.536l-4.879-8.916c-.004-.006-.004-.016 0-.022L22.139.756c.095-.191.097-.387.006-.535C22.056.078 21.894 0 21.686 0h-3.498zM3.648 4.74c-.211 0-.385.074-.473.216-.09.149-.078.339.02.531l2.34 4.05c.004.01.004.016 0 .021L1.86 16.051c-.099.188-.093.381 0 .529.085.142.239.234.45.234h3.461c.518 0 .766-.348.945-.667l3.734-6.609-2.378-4.155c-.172-.315-.434-.659-.962-.659H3.648v.016z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="whatsapp://send?text=How%20to%20Install%20Chamilo%20on%20Ubuntu%20Server%20https%3a%2f%2fdgibbs.me%2fposts%2f2020%2f12%2fhow-to-install-chamilo-on-ubuntu-server%2f" target="_blank" rel="noopener" aria-label="" title="Share on whatsapp">
  <div class="resp-sharing-button resp-sharing-button--whatsapp resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fdgibbs.me%2fposts%2f2020%2f12%2fhow-to-install-chamilo-on-ubuntu-server%2f&amp;t=How%20to%20Install%20Chamilo%20on%20Ubuntu%20Server" target="_blank" rel="noopener" aria-label="" title="Share on hacker news">
  <div class="resp-sharing-button resp-sharing-button--hackernews resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M0 24V0h24v24H0zM6.951 5.896l4.112 7.708v5.064h1.583v-4.972l4.148-7.799h-1.749l-2.457 4.875c-.372.745-.688 1.434-.688 1.434s-.297-.708-.651-1.434L8.831 5.896h-1.88z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://telegram.me/share/url?text=How%20to%20Install%20Chamilo%20on%20Ubuntu%20Server&amp;url=https%3a%2f%2fdgibbs.me%2fposts%2f2020%2f12%2fhow-to-install-chamilo-on-ubuntu-server%2f" target="_blank" rel="noopener" aria-label="" title="Share on telegram">
  <div class="resp-sharing-button resp-sharing-button--telegram resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
    </div>
  </div>
</a>

      </div>

    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h"></span>
          <hr />
        </div>

        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="https://dgibbs.me/posts/2021/03/how-to-install-invoiceninja-on-ubuntu-server/">
                <span class="button__icon">←</span>
                <span class="button__text">How to install InvoiceNinja on Ubuntu Server</span>
              </a>
            </span>
          

          
            <span class="button next">
              <a href="https://dgibbs.me/posts/2020/08/seb-vettel-deserves-better/">
                <span class="button__text">Seb Vettel deserves better</span>
                <span class="button__icon">→</span>
              </a>
            </span>
          
        </div>
      </div>
    


    

  </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content" style="font-size:small">
            <span>&copy; 2021</span>
            
                <span><a href="https://dgibbs.me">Darryl Gibbs</a></span>
            
            
                <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span>
            
            <span> <a href="https://dgibbs.me/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content" style="font-size:small">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
            <span>Made with &#10084; by <a href="https://github.com/rhazdon">Djordje Atlialp</a></span>
        </div>
    </div>
</footer>

            
        </div>

        




<script type="text/javascript" src="https://dgibbs.me/bundle.min.a0f363fdf81cdc5cfacc447a79c33189eb000d090336cd04aac8ee256f423b3133b836c281944c19c75e38d0b0b449f01ce5807e37798b7ac94ac1db51983fc4.js" integrity="sha512-oPNj/fgc3Fz6zER6ecMxiesADQkDNs0EqsjuJW9COzEzuDbCgZRMGcdeONCwtEnwHOWAfjd5i3rJSsHbUZg/xA=="></script>
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-56101420-8', 'auto');
	
	ga('send', 'pageview');
}
</script>



    </body>
</html>
